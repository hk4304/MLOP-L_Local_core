schema: '2.0'
stages:
  data_processing:
    cmd: python src/data_processing.py
    deps:
    - path: data/raw/beach_data.csv
      hash: md5
      md5: 5b11d2f5693b6107eb08c4153d94327f
      size: 55459
    - path: src/data_processing.py
      hash: md5
      md5: c9df8de7274cccb5c49d89a452c5c626
      size: 2334
    params:
      params.yaml:
        base:
          random_state: 42
        data_processing:
          raw_data_path: data/raw/beach_data.csv
          processed_dir: data/processed
          test_size: 0.2
          target_column: actual_attendance
    outs:
    - path: data/processed/
      hash: md5
      md5: 07b67858279da81bc5b69a757e148f2f.dir
      size: 43962
      nfiles: 2
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 1b1d87f2388eabc146fb754e3ba9bba7
      size: 35094
    - path: src/train.py
      hash: md5
      md5: 502da045275202c57a7c50615b24fb16
      size: 1821
    params:
      params.yaml:
        base:
          random_state: 42
        train:
          train_data_path: data/processed/train.csv
          model_dir: models
          model_name: model.joblib
          model_params:
            n_estimators: 200
            max_depth: 15
            min_samples_split: 2
            min_samples_leaf: 1
            max_features: sqrt
            bootstrap: true
            oob_score: false
            n_jobs: -1
            max_samples:
            min_weight_fraction_leaf: 0.0
            min_impurity_decrease: 0.0
    outs:
    - path: models/
      hash: md5
      md5: a0422fc4cfaefc882d1f131d0fb98e07.dir
      size: 27344305
      nfiles: 1
  evaluate:
    cmd: python src/evaluate.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 7445bd381aecd8af99edf57a29a5aae7
      size: 8868
    - path: models/model.joblib
      hash: md5
      md5: 3c285dcd3f7ef7f9f8f5ad7bfb639315
      size: 27344305
    - path: src/evaluate.py
      hash: md5
      md5: 9a248c3717f2846f25436141eced76dd
      size: 1564
    params:
      params.yaml:
        base:
          random_state: 42
        data_processing.target_column: actual_attendance
        evaluate:
          test_data_path: data/processed/test.csv
          metrics_path: metrics/metrics.json
        train:
          train_data_path: data/processed/train.csv
          model_dir: models
          model_name: model.joblib
          model_params:
            n_estimators: 200
            max_depth: 15
            min_samples_split: 2
            min_samples_leaf: 1
            max_features: sqrt
            bootstrap: true
            oob_score: false
            n_jobs: -1
            max_samples:
            min_weight_fraction_leaf: 0.0
            min_impurity_decrease: 0.0
    outs:
    - path: metrics/metrics.json
      hash: md5
      md5: 7f8f5cca04de1853c77f59912856018f
      size: 62
